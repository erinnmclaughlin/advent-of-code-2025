@page "/day01"

<PageTitle>Day 1: Secret Entrance</PageTitle>

@if (!string.IsNullOrEmpty(AudioFile))
{
    <audio autoplay src="@AudioFile"></audio>
}

<div class="page">
    <h1>Day 1: Secret Entrance</h1>

    <div class="dial-container">
        <div class="stats-container">
            <div class="stat-card">
                <div class="stat-label">Land On Zero Count</div>
                <div class="stat-value">@(IsRunning ? EndOnZeroCount.ToString() : "--")</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Total Zero Count</div>
                <div class="stat-value">@(IsRunning ? PassThroughZeroCount.ToString() : "--")</div>
            </div>
        </div>

        <div class="dial">
            
            <span class="current-step">@CurrentStep</span>

            @for (var i = 0; i < 100; i += 5)
            {
                var (x, y) = GetPosition(i);
                <span class="dial-number" style="@($"left: {x}%; top: {y}%;")">@i</span>
            }

            <span class="dial-number current @(CurrentDialNumber == 0 ? "zero" : "")" style="@($"left: {CurrentX}%; top: {CurrentY}%;")">
                @CurrentDialNumber
            </span>
        </div>

        @if (!IsRunning)
        {
            <button type="button" @onclick="ProcessInput">Start</button>
        }
        else
        {
            <button type="button" @onclick="Reset">Reset</button>
        }
    </div>

</div>
